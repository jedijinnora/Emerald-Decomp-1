mapscripts VictoryRoad_B1F_MapScripts {
	MAP_SCRIPT_ON_TRANSITION : VictoryRoad_B1F_OnTransition
}

script VictoryRoad_B1F_OnTransition {
	call_if_set(FLAG_CHALLENGE_HM_NONE, VictoryRoad_B1F_EventScript_ClearHMObstacles)
	call(Common_EventScript_DisableBPReward)
	end
}

script VictoryRoad_B1F_EventScript_ClearHMObstacles {
	setflag(FLAG_TEMP_11)
	setflag(FLAG_TEMP_12)
	setflag(FLAG_TEMP_13)
	setflag(FLAG_TEMP_14)
	setflag(FLAG_TEMP_15)
	setflag(FLAG_TEMP_16)
	setflag(FLAG_TEMP_17)
	setflag(FLAG_TEMP_18)
	setflag(FLAG_TEMP_19)
	setflag(FLAG_TEMP_1A)
	setflag(FLAG_TEMP_1B)
	setflag(FLAG_TEMP_1C)
	setflag(FLAG_TEMP_1D)
	setflag(FLAG_TEMP_1E)
	setflag(FLAG_TEMP_1F)
	setmetatile(6, 17, 0x211, FALSE)
	setmetatile(6, 18, 0x211, FALSE)
	setmetatile(10, 17, 0x211, FALSE)
	setmetatile(10, 18, 0x211, FALSE)
	return
}

script VictoryRoad_B1F_EventScript_BonusItem {
	lock
	msgbox(format("Ooh! You found a valuable item left by some previous Trainer."))
	dynmultipush("Assault Vest", ITEM_ASSAULT_VEST)
	dynmultipush("Choice Scarf", ITEM_CHOICE_SCARF)
	dynmultipush("Focus Sash", ITEM_FOCUS_SASH)
	dynmultipush("Heavy-Duty Boots", ITEM_HEAVY_DUTY_BOOTS)
	dynmultipush("Leftovers", ITEM_LEFTOVERS)
	dynmultipush("Life Orb", ITEM_LIFE_ORB)
	dynmultipush("Rocky Helmet", ITEM_ROCKY_HELMET)
	msgbox(format("Which is it?"))
	dynmultistack(0,0,TRUE,6,FALSE,0,DYN_MULTICHOICE_CB_SHOW_ITEM)
	finditem(VAR_RESULT)
	release
	end
}

script VictoryRoad_B1F_EventScript_Rizzo {
	trainerbattle_double(TRAINER_RIZZO, VictoryRoad_B1F_Text_RizzoIntro, VictoryRoad_B1F_Text_RizzoDefeat, VictoryRoad_Text_NotEnoughMons)
	msgbox(VictoryRoad_B1F_Text_RizzoPostBattle, MSGBOX_AUTOCLOSE)
	call(VictoryRoad_B1F_EventScript_TryRizzoRematch)
	release
	end
}
script VictoryRoad_B1F_EventScript_TryRizzoRematch {
	lock
    call(Common_EventScript_ShouldDoRematch)
	goto_if_eq(VAR_RESULT, FALSE, Common_EventScript_NopReturn)
	setvar(VAR_0x8003, TRAINER_RIZZO)
	setvar(VAR_0x8004, 5)
	call(Common_EventScript_CheckRecentRematchesSetBP)
	trainerbattle_no_intro(TRAINER_RIZZO, VictoryRoad_B1F_Text_RizzoDefeat)
	special(UpdateRecentTrainers)
	return
}

script VictoryRoad_B1F_EventScript_Park {
	trainerbattle_double(TRAINER_PARK, VictoryRoad_B1F_Text_ParkIntro, VictoryRoad_B1F_Text_ParkDefeat, VictoryRoad_Text_NotEnoughMons)
	msgbox(VictoryRoad_B1F_Text_ParkPostBattle, MSGBOX_AUTOCLOSE)
	call(VictoryRoad_B1F_EventScript_TryParkRematch)
	release
	end
}
script VictoryRoad_B1F_EventScript_TryParkRematch {
	lock
    call(Common_EventScript_ShouldDoRematch)
	goto_if_eq(VAR_RESULT, FALSE, Common_EventScript_NopReturn)
	setvar(VAR_0x8003, TRAINER_PARK)
	setvar(VAR_0x8004, 5)
	call(Common_EventScript_CheckRecentRematchesSetBP)
	trainerbattle_no_intro(TRAINER_PARK, VictoryRoad_B1F_Text_ParkDefeat)
	special(UpdateRecentTrainers)
	return
}

script VictoryRoad_B1F_EventScript_Shoma {
	trainerbattle_double(TRAINER_SHOMA, VictoryRoad_B1F_Text_ShomaIntro, VictoryRoad_B1F_Text_ShomaDefeat, VictoryRoad_Text_NotEnoughMons)
	msgbox(VictoryRoad_B1F_Text_ShomaPostBattle, MSGBOX_AUTOCLOSE)
	call(VictoryRoad_B1F_EventScript_TryShomaRematch)
	release
	end
}
script VictoryRoad_B1F_EventScript_TryShomaRematch {
	lock
    call(Common_EventScript_ShouldDoRematch)
	goto_if_eq(VAR_RESULT, FALSE, Common_EventScript_NopReturn)
	setvar(VAR_0x8003, TRAINER_SHOMA)
	setvar(VAR_0x8004, 5)
	call(Common_EventScript_CheckRecentRematchesSetBP)
	trainerbattle_no_intro(TRAINER_SHOMA, VictoryRoad_B1F_Text_ShomaDefeat)
	special(UpdateRecentTrainers)
	return
}

script VictoryRoad_B1F_EventScript_Katelynn {
	trainerbattle_single(TRAINER_KATELYNN, VictoryRoad_B1F_Text_KatelynnIntro, VictoryRoad_B1F_Text_KatelynnDefeat)
	msgbox(VictoryRoad_B1F_Text_KatelynnPostBattle, MSGBOX_AUTOCLOSE)
	call(VictoryRoad_B1F_EventScript_TryKatelynnRematch)
	release
	end
}
script VictoryRoad_B1F_EventScript_TryKatelynnRematch {
	lock
    call(Common_EventScript_ShouldDoRematch)
	goto_if_eq(VAR_RESULT, FALSE, Common_EventScript_NopReturn)
	setvar(VAR_0x8003, TRAINER_KATELYNN)
	setvar(VAR_0x8004, 5)
	call(Common_EventScript_CheckRecentRematchesSetBP)
	trainerbattle_no_intro(TRAINER_KATELYNN, VictoryRoad_B1F_Text_KatelynnDefeat)
	special(UpdateRecentTrainers)
	return
}

script VictoryRoad_B1F_EventScript_Eifie {
	trainerbattle_double(TRAINER_EIFIE, VictoryRoad_B1F_Text_EifieIntro, VictoryRoad_B1F_Text_EifieDefeat, VictoryRoad_Text_NotEnoughMons)
	msgbox(VictoryRoad_B1F_Text_EifiePostBattle, MSGBOX_AUTOCLOSE)
	call(VictoryRoad_B1F_EventScript_TryEifieRematch)
	release
	end
}
script VictoryRoad_B1F_EventScript_TryEifieRematch {
	lock
    call(Common_EventScript_ShouldDoRematch)
	goto_if_eq(VAR_RESULT, FALSE, Common_EventScript_NopReturn)
	setvar(VAR_0x8003, TRAINER_EIFIE)
	setvar(VAR_0x8004, 5)
	call(Common_EventScript_CheckRecentRematchesSetBP)
	trainerbattle_no_intro(TRAINER_EIFIE, VictoryRoad_B1F_Text_EifieDefeat)
	special(UpdateRecentTrainers)
	return
}

raw `
VictoryRoad_B1F_Text_KatelynnIntro:
	.string "The thought that I'm getting closer to\n"
	.string "the Pokémon League…\p"
	.string "I'm getting stage fright…$"

VictoryRoad_B1F_Text_KatelynnDefeat:
	.string "I couldn't do a thing…$"

VictoryRoad_B1F_Text_KatelynnPostBattle:
	.string "The Pokémon League became distant\n"
	.string "again… What a letdown…$"

VictoryRoad_B1F_Text_ParkIntro:
	.string "To win your way through the Pokémon\n"
	.string "League, you need the trust of your\l"
	.string "Pokémon.$"

VictoryRoad_B1F_Text_ParkDefeat:
	.string "Your relationship is based on\n"
	.string "solid trust.$"

VictoryRoad_B1F_Text_ParkPostBattle:
	.string "By being together all the time, trust\n"
	.string "grows between Pokémon and Trainers.$"

VictoryRoad_B1F_Text_RizzoIntro:
	.string "This isn't the goal. It's only a place\n"
	.string "on the way to the Pokémon League.$"

VictoryRoad_B1F_Text_RizzoDefeat:
	.string "That's the way!$"

VictoryRoad_B1F_Text_RizzoPostBattle:
	.string "You'll do fine, for sure!\n"
	.string "Your Pokémon are all eager to go!$"

VictoryRoad_B1F_Text_ShomaIntro:
	.string "My Pokémon are cosmically\n"
	.string "awe inspiring!$"

VictoryRoad_B1F_Text_ShomaDefeat:
	.string "I've never met anyone like you before.$"

VictoryRoad_B1F_Text_ShomaPostBattle:
	.string "Even outside of battle, I sense\n"
	.string "incredible power emanating from you\l"
	.string "and your Pokémon.$"

VictoryRoad_B1F_Text_EifieIntro:
	.string "Okay, no need to get your back up!\n"
	.string "Relax, let's take it easy!$"

VictoryRoad_B1F_Text_EifieDefeat:
	.string "Whoa!\n"
	.string "Wonderful!$"

VictoryRoad_B1F_Text_EifiePostBattle:
	.string "Sure, this is Victory Road.\p"
	.string "But it's not all that different from\n"
	.string "the path you've taken so far.\p"
	.string "Try to enjoy things the rest of\n"
	.string "the way!$"

`
